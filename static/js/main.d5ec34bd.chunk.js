(this.webpackJsonpsoramitrsu_test_task=this.webpackJsonpsoramitrsu_test_task||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={game__style:"Game_game__style__mX2GT",info__style:"Game_info__style__eOFu0"}},,function(e,t,n){e.exports={message__style:"Message_message__style__1kP8f"}},function(e,t,n){e.exports={cell__style:"Cell_cell__style__1E306"}},function(e,t,n){e.exports={board__style:"Board_board__style__2mcip"}},function(e,t,n){e.exports={reset__style:"Reset_reset__style__2k2Dd"}},,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(8),c=n.n(s),u=(n(17),n(5)),i=n(2),o=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],l=function(e,t){for(var n=Array(9).fill(-1),r=0;r<e.length;r++)e[r]===t&&(n[r]=r);return n},f=function(e,t){for(var n=[],r=[],a=0;a<o.length;a++){for(var s=0,c=o[a],u=0;u<c.length;u++){var i=c[u];if(-1!==t[i]){s=0;break}-1!==e[i]&&(s+=1)}s>0&&(n.push(o[a]),r.push(s))}return{dimensions:n,fullness:r}},_=function(e){return e.indexOf(2)},v=function(e,t){for(var n=[],r=0;r<t.length;r++)""===e[t[r]]&&n.push(t[r]);return n};function j(e){return Math.floor(Math.random()*e.length)}function m(e,t,n){var r=f(e,t),a=r.dimensions,s=r.fullness,c=_(s);return-1===c?function(e,t,n){var r=f(e,t),a=r.dimensions,s=r.fullness;if(a.length){var c=_(s);-1===c&&(c=s.indexOf(1));var u=a[c],i=v(n,u);return i[j(i)]}return function(e){return e.lastIndexOf("")}(n)}(t,e,n):function(e,t,n){var r=e[t],a=v(n,r);return a[j(a)]}(a,c,n)}var b=n(9),O=n.n(b),d=n(0),h=function(e){var t=e.value;return Object(d.jsx)("h2",{className:O.a.message__style,children:t})},y=n(10),x=n.n(y),g=function(e){var t=e.name,n=e.onClick,r=e.value;return Object(d.jsx)("button",{className:x.a.cell__style,name:t,onClick:n,children:r})},p=n(11),k=n.n(p),C=function(e){var t=e.onClick,n=e.value;return Object(d.jsx)("div",{className:k.a.board__style,children:Object(u.a)(Array(9)).map((function(e,r){return Object(d.jsx)(g,{name:r,onClick:function(){return t(r)},value:n[r]},r)}))})},X=n(12),w=n.n(X),N=function(e){var t=e.onClick;return Object(d.jsx)("button",{className:w.a.reset__style,onClick:t,children:"Restart"})},S=n(7),A=n.n(S),M=function(){var e=Object(r.useState)(Array(9).fill("")),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)("X"),c=Object(i.a)(s,2),f=c[0],_=c[1],v=Object(r.useState)("Start game"),j=Object(i.a)(v,2),b=j[0],O=j[1],y=Object(r.useRef)(!1);Object(r.useEffect)((function(){var e;y.current?"0"===f&&(e=1e3,new Promise((function(t){return setTimeout(t,e)}))).then((function(){p()})):y.current=!0}),[f]);var x=function(e){if(function(e){for(var t=0;t<o.length;t++){var n=Object(i.a)(o[t],3),r=n[0],a=n[1],s=n[2];if(""!==e[r]&&e[r]===e[a]&&e[r]===e[s])return!0}return!1}(e))return O("".concat("X"===f?"Player won":"Computer won")),void _("");if(-1===e.indexOf(""))O("Draw"),_("");else{var t="X"===f?"0":"X";_(t),O("Now is ".concat(t,"'s move"))}},g=function(e){var t=Object(u.a)(n);return t[e]=f,a(t),t};var p=function(){var e=function(e){var t=l(e,"X"),n=l(e,"0");return-1===t[4]&&-1===n[4]?4:m(t,n,e)}(n);if(""===n[e]){var t=g(e);x(t)}};return Object(d.jsxs)("div",{className:A.a.game__style,children:[Object(d.jsxs)("div",{className:A.a.info__style,children:[Object(d.jsx)(h,{value:b}),Object(d.jsx)(N,{onClick:function(){a(Array(9).fill("")),O("Start game"),_("X")},value:"Refresh"})]}),Object(d.jsx)(C,{onClick:function(e){if("X"===f&&""===n[e]){var t=g(e);x(t)}},value:n})]})};var R=function(){return Object(d.jsx)(M,{})};c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.d5ec34bd.chunk.js.map